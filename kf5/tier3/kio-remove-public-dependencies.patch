diff --git a/src/core/slavebase.cpp b/src/core/slavebase.cpp
index 1236ad5..a32c6b6 100644
--- a/src/core/slavebase.cpp
+++ b/src/core/slavebase.cpp
@@ -968,9 +968,11 @@ int SlaveBase::messageBox(MessageBoxType type, const QString &text, const QStrin
 }
 
 int SlaveBase::messageBox(const QString &text, MessageBoxType type, const QString &caption,
-                          const QString &buttonYes, const QString &buttonNo,
+                          const QString &_buttonYes, const QString &_buttonNo,
                           const QString &dontAskAgainName)
 {
+    QString buttonYes = _buttonYes.isNull() ? i18n("&Yes") : _buttonYes;
+    QString buttonNo = _buttonNo.isNull() ? i18n("&No") : _buttonNo;
     //qDebug() << "messageBox " << type << " " << text << " - " << caption << buttonYes << buttonNo;
     KIO_DATA << (qint32)type << text << caption << buttonYes << buttonNo << dontAskAgainName;
     send(INF_MESSAGEBOX, data);
diff --git a/src/core/slavebase.h b/src/core/slavebase.h
index 86f1506..0922893 100644
--- a/src/core/slavebase.h
+++ b/src/core/slavebase.h
@@ -24,7 +24,6 @@
 #include <kio/udsentry.h>
 #include <kio/authinfo.h>
 #include "job_base.h" // for KIO::JobFlags
-#include <klocalizedstring.h>
 
 #include <QtCore/QByteArray>
 #include <QtNetwork/QHostInfo>
@@ -277,8 +276,8 @@ public:
      */
     int messageBox(MessageBoxType type, const QString &text,
                    const QString &caption = QString(),
-                   const QString &buttonYes = i18n("&Yes"),
-                   const QString &buttonNo = i18n("&No"));
+                   const QString &buttonYes = QString(),
+                   const QString &buttonNo = QString());
 
     /**
      * Call this to show a message box from the slave
@@ -297,8 +296,8 @@ public:
      */
     int messageBox(const QString &text, MessageBoxType type,
                    const QString &caption = QString(),
-                   const QString &buttonYes = i18n("&Yes"),
-                   const QString &buttonNo = i18n("&No"),
+                   const QString &buttonYes = QString(),
+                   const QString &buttonNo = QString(),
                    const QString &dontAskAgainName = QString());
 
     /**
diff --git a/src/ioslaves/file/file.cpp b/src/ioslaves/file/file.cpp
index b8c6220..b5e68d8 100644
--- a/src/ioslaves/file/file.cpp
+++ b/src/ioslaves/file/file.cpp
@@ -60,6 +60,7 @@
 #include <kconfiggroup.h>
 #include <kshell.h>
 #include <kmountpoint.h>
+#include <klocalizedstring.h>
 #include <QMimeDatabase>
 #include <QStandardPaths>
 
diff --git a/src/ioslaves/file/file_unix.cpp b/src/ioslaves/file/file_unix.cpp
index 96fd6af..bb4d600 100644
--- a/src/ioslaves/file/file_unix.cpp
+++ b/src/ioslaves/file/file_unix.cpp
@@ -33,6 +33,7 @@
 
 #include <QDebug>
 #include <kconfiggroup.h>
+#include <klocalizedstring.h>
 #include <kmountpoint.h>
 
 #include <errno.h>
diff --git a/src/ioslaves/ftp/ftp.cpp b/src/ioslaves/ftp/ftp.cpp
index 706c983..23b1d8f 100644
--- a/src/ioslaves/ftp/ftp.cpp
+++ b/src/ioslaves/ftp/ftp.cpp
@@ -55,6 +55,7 @@
 
 #include <QDebug>
 #include <ioslave_defaults.h>
+#include <klocalizedstring.h>
 #include <kremoteencoding.h>
 #include <kconfiggroup.h>
 
diff --git a/src/ioslaves/help/kio_help.cpp b/src/ioslaves/help/kio_help.cpp
index 38e09d5..85b7975 100644
--- a/src/ioslaves/help/kio_help.cpp
+++ b/src/ioslaves/help/kio_help.cpp
@@ -25,6 +25,8 @@
 #include "xslt.h"
 #include "xslt_help.h"
 
+#include <KLocalizedString>
+
 #include <QDebug>
 
 #include <QtCore/QDir>
diff --git a/src/ioslaves/http/http.cpp b/src/ioslaves/http/http.cpp
index a0193a0..b8e636b 100644
--- a/src/ioslaves/http/http.cpp
+++ b/src/ioslaves/http/http.cpp
@@ -52,6 +52,7 @@
 #include <QDebug>
 #include <kconfig.h>
 #include <kconfiggroup.h>
+#include <klocalizedstring.h>
 #include <kservice.h>
 
 #include <QDBusInterface>
